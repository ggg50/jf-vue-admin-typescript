export const list = [
  {
    id: '5ea2be081d0eaf3d33723de0',
    menuName: '首页',
    menuIsopen: 0,
    menuUrl: 'root',
    parentId: '0',
    isLeaf: 0
  },
  {
    id: '5ea2be091d0eaf3d33723de1',
    menuName: '首页概况',
    menuIsopen: 0,
    menuUrl: 'home',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be091d0eaf3d33723de2',
    menuName: '系统设置',
    menuIsopen: 0,
    menuUrl: 'setting',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be091d0eaf3d33723de3',
    menuName: '网站信息',
    menuIsopen: 0,
    menuUrl: 'pageMessage',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0a1d0eaf3d33723de4',
    menuName: '费用设置',
    menuIsopen: 0,
    menuUrl: 'fee',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0a1d0eaf3d33723de5',
    menuName: '部门设置',
    menuIsopen: 0,
    menuUrl: 'department',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0b1d0eaf3d33723de6',
    menuName: '受理方式设置',
    menuIsopen: 0,
    menuUrl: 'acception',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0b1d0eaf3d33723de7',
    menuName: '审理方式设置',
    menuIsopen: 0,
    menuUrl: 'hearing',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0b1d0eaf3d33723de8',
    menuName: '期限设置',
    menuIsopen: 0,
    menuUrl: 'timeLimit',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0c1d0eaf3d33723de9',
    menuName: '送达方式设置',
    menuIsopen: 0,
    menuUrl: 'sendWay',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0c1d0eaf3d33723dea',
    menuName: '文书模板',
    menuIsopen: 0,
    menuUrl: 'document',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0d1d0eaf3d33723deb',
    menuName: '全部文书',
    menuIsopen: 0,
    menuUrl: 'documentList',
    parentId: '5ea2be0c1d0eaf3d33723dea',
    isLeaf: 0
  },
  {
    id: '5ea2be0d1d0eaf3d33723dec',
    menuName: '新增',
    menuIsopen: 0,
    menuUrl: 'newDocument',
    parentId: '5ea2be0c1d0eaf3d33723dea',
    isLeaf: 0
  },
  {
    id: '5ea2be0d1d0eaf3d33723ded',
    menuName: '编辑',
    menuIsopen: 0,
    menuUrl: 'editDocument',
    parentId: '5ea2be0c1d0eaf3d33723dea',
    isLeaf: 0
  },
  {
    id: '5ea2be0e1d0eaf3d33723dee',
    menuName: '电子印章配置',
    menuIsopen: 0,
    menuUrl: 'authentication',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0e1d0eaf3d33723def',
    menuName: '操作日志',
    menuIsopen: 0,
    menuUrl: 'operation',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0f1d0eaf3d33723df0',
    menuName: '支付配置',
    menuIsopen: 0,
    menuUrl: 'payment',
    parentId: '5ea2be091d0eaf3d33723de2',
    isLeaf: 0
  },
  {
    id: '5ea2be0f1d0eaf3d33723df1',
    menuName: '消息中心',
    menuIsopen: 0,
    menuUrl: 'message',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be0f1d0eaf3d33723df2',
    menuName: '权限控制',
    menuIsopen: 0,
    menuUrl: 'permission',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be101d0eaf3d33723df3',
    menuName: '文件管理',
    menuIsopen: 0,
    menuUrl: 'file',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be101d0eaf3d33723df4',
    menuName: '会员管理',
    menuIsopen: 0,
    menuUrl: 'menber',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be111d0eaf3d33723df5',
    menuName: '立案管理',
    menuIsopen: 0,
    menuUrl: 'acceptCase',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be111d0eaf3d33723df6',
    menuName: '批量网络仲裁立案申请',
    menuIsopen: 0,
    menuUrl: 'batchCaseAcception',
    parentId: '5ea2be111d0eaf3d33723df5',
    isLeaf: 0
  },
  {
    id: '5ea2be111d0eaf3d33723df7',
    menuName: '待受理',
    menuIsopen: 0,
    menuUrl: 'batchUnacceptCase',
    parentId: '5ea2be111d0eaf3d33723df6',
    isLeaf: 0
  },
  {
    id: '5ea2be121d0eaf3d33723df8',
    menuName: '已受理',
    menuIsopen: 0,
    menuUrl: 'batchAcceptedCase',
    parentId: '5ea2be111d0eaf3d33723df6',
    isLeaf: 0
  },
  {
    id: '5ea2be121d0eaf3d33723df9',
    menuName: '不予受理',
    menuIsopen: 0,
    menuUrl: 'batchRejectCase',
    parentId: '5ea2be111d0eaf3d33723df6',
    isLeaf: 0
  },
  {
    id: '5ea2be121d0eaf3d33723dfa',
    menuName: '概览',
    menuIsopen: 0,
    menuUrl: 'batchAcceptCaseOverview',
    parentId: '5ea2be111d0eaf3d33723df6',
    isLeaf: 0
  },
  {
    id: '5ea2be131d0eaf3d33723dfb',
    menuName: '智能受理',
    menuIsopen: 0,
    menuUrl: 'batchAcceptCaseIntelligence',
    parentId: '5ea2be111d0eaf3d33723df6',
    isLeaf: 0
  },
  {
    id: '5ea2be131d0eaf3d33723dfc',
    menuName: '非批量网络仲裁立案申请',
    menuIsopen: 0,
    menuUrl: 'singleCaseAcception',
    parentId: '5ea2be111d0eaf3d33723df5',
    isLeaf: 0
  },
  {
    id: '5ea2be131d0eaf3d33723dfd',
    menuName: '待受理',
    menuIsopen: 0,
    menuUrl: 'singleUnacceptCase',
    parentId: '5ea2be131d0eaf3d33723dfc',
    isLeaf: 0
  },
  {
    id: '5ea2be141d0eaf3d33723dfe',
    menuName: '已受理',
    menuIsopen: 0,
    menuUrl: 'singleAcceptedCase',
    parentId: '5ea2be131d0eaf3d33723dfc',
    isLeaf: 0
  },
  {
    id: '5ea2be141d0eaf3d33723dff',
    menuName: '不予受理',
    menuIsopen: 0,
    menuUrl: 'singleRejectCase',
    parentId: '5ea2be131d0eaf3d33723dfc',
    isLeaf: 0
  },
  {
    id: '5ea2be141d0eaf3d33723e00',
    menuName: '查看详情',
    menuIsopen: 0,
    menuUrl: 'caseAcceptDetail',
    parentId: '5ea2be131d0eaf3d33723dfc',
    isLeaf: 0
  },
  {
    id: '5ea2be151d0eaf3d33723e01',
    menuName: '传统仲裁立案申请',
    menuIsopen: 0,
    menuUrl: 'traditional',
    parentId: '5ea2be111d0eaf3d33723df5',
    isLeaf: 0
  },
  {
    id: '5ea2be151d0eaf3d33723e02',
    menuName: '分配办案秘书',
    menuIsopen: 0,
    menuUrl: 'secretaryAssignment',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be161d0eaf3d33723e03',
    menuName: '批量网络仲裁分配办案秘书',
    menuIsopen: 0,
    menuUrl: 'batchSecretaryAssignment',
    parentId: '5ea2be151d0eaf3d33723e02',
    isLeaf: 0
  },
  {
    id: '5ea2be161d0eaf3d33723e04',
    menuName: '非批量网络仲裁分配办案秘书',
    menuIsopen: 0,
    menuUrl: 'singleSecretaryAssignment',
    parentId: '5ea2be151d0eaf3d33723e02',
    isLeaf: 0
  },
  {
    id: '5ea2be161d0eaf3d33723e05',
    menuName: '传统仲裁分配办案秘书',
    menuIsopen: 0,
    menuUrl: 'traditionalSecretaryAssignment',
    parentId: '5ea2be151d0eaf3d33723e02',
    isLeaf: 0
  },
  {
    id: '5ea2be171d0eaf3d33723e06',
    menuName: '案件管理',
    menuIsopen: 0,
    menuUrl: 'caseManagement',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be171d0eaf3d33723e07',
    menuName: '批量网络仲裁',
    menuIsopen: 0,
    menuUrl: 'batchCaseManagement',
    parentId: '5ea2be171d0eaf3d33723e06',
    isLeaf: 0
  },
  {
    id: '5ea2be171d0eaf3d33723e08',
    menuName: '非批量网络仲裁',
    menuIsopen: 0,
    menuUrl: 'singleCaseManagement',
    parentId: '5ea2be171d0eaf3d33723e06',
    isLeaf: 0
  },
  {
    id: '5ea2be181d0eaf3d33723e09',
    menuName: '传统仲裁',
    menuIsopen: 0,
    menuUrl: 'traditionalCaseManagement',
    parentId: '5ea2be171d0eaf3d33723e06',
    isLeaf: 0
  },
  {
    id: '5ea2be181d0eaf3d33723e0a',
    menuName: '开庭管理',
    menuIsopen: 0,
    menuUrl: 'courtManagement',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be191d0eaf3d33723e0b',
    menuName: '开庭排期',
    menuIsopen: 0,
    menuUrl: 'courtScheduling',
    parentId: '5ea2be181d0eaf3d33723e0a',
    isLeaf: 0
  },
  {
    id: '5ea2be191d0eaf3d33723e0c',
    menuName: '智能庭审中心',
    menuIsopen: 0,
    menuUrl: 'intelligenceCourt',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be191d0eaf3d33723e0d',
    menuName: '审核管理',
    menuIsopen: 0,
    menuUrl: 'auditManagement',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be1a1d0eaf3d33723e0e',
    menuName: '我的审批任务',
    menuIsopen: 0,
    menuUrl: 'auditTask',
    parentId: '5ea2be191d0eaf3d33723e0d',
    isLeaf: 0
  },
  {
    id: '5ea2be1a1d0eaf3d33723e0f',
    menuName: '我的审批记录',
    menuIsopen: 0,
    menuUrl: 'auditRecord',
    parentId: '5ea2be191d0eaf3d33723e0d',
    isLeaf: 0
  },
  {
    id: '5ea2be1a1d0eaf3d33723e10',
    menuName: '我的审批申请',
    menuIsopen: 0,
    menuUrl: 'auditApplication',
    parentId: '5ea2be191d0eaf3d33723e0d',
    isLeaf: 0
  },
  {
    id: '5ea2be1b1d0eaf3d33723e11',
    menuName: '文书签发管理',
    menuIsopen: 0,
    menuUrl: 'documentIssument',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be1b1d0eaf3d33723e12',
    menuName: '待签发文书列表',
    menuIsopen: 0,
    menuUrl: 'unissueDocument',
    parentId: '5ea2be1b1d0eaf3d33723e11',
    isLeaf: 0
  },
  {
    id: '5ea2be1b1d0eaf3d33723e13',
    menuName: '批量网络仲裁文书',
    menuIsopen: 0,
    menuUrl: 'batchUnissueDocument',
    parentId: '5ea2be1b1d0eaf3d33723e12',
    isLeaf: 0
  },
  {
    id: '5ea2be1c1d0eaf3d33723e14',
    menuName: '非批量网络仲裁文书',
    menuIsopen: 0,
    menuUrl: 'singleUnissueDocument',
    parentId: '5ea2be1b1d0eaf3d33723e12',
    isLeaf: 0
  },
  {
    id: '5ea2be1c1d0eaf3d33723e15',
    menuName: '概览',
    menuIsopen: 0,
    menuUrl: 'unissueDocumentOverview',
    parentId: '5ea2be1b1d0eaf3d33723e12',
    isLeaf: 0
  },
  {
    id: '5ea2be1d1d0eaf3d33723e16',
    menuName: '已签发文书列表',
    menuIsopen: 0,
    menuUrl: 'issuedDocument',
    parentId: '5ea2be1b1d0eaf3d33723e11',
    isLeaf: 0
  },
  {
    id: '5ea2be1d1d0eaf3d33723e17',
    menuName: '批量网络仲裁文书',
    menuIsopen: 0,
    menuUrl: 'batchIssuedDocument',
    parentId: '5ea2be1d1d0eaf3d33723e16',
    isLeaf: 0
  },
  {
    id: '5ea2be1e1d0eaf3d33723e18',
    menuName: '非批量网络仲裁文书',
    menuIsopen: 0,
    menuUrl: 'singleIssuedDocument',
    parentId: '5ea2be1d1d0eaf3d33723e16',
    isLeaf: 0
  },
  {
    id: '5ea2be1e1d0eaf3d33723e19',
    menuName: '修改密码',
    menuIsopen: 0,
    menuUrl: 'changePassword',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be1e1d0eaf3d33723e1a',
    menuName: '人员管理',
    menuIsopen: 0,
    menuUrl: 'personnelManagement',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be1f1d0eaf3d33723e1b',
    menuName: '仲裁员',
    menuIsopen: 0,
    menuUrl: 'arbitrationManagement',
    parentId: '5ea2be1e1d0eaf3d33723e1a',
    isLeaf: 0
  },
  {
    id: '5ea2be1f1d0eaf3d33723e1c',
    menuName: '办公室人员',
    menuIsopen: 0,
    menuUrl: 'OfficeStaffManagement',
    parentId: '5ea2be1e1d0eaf3d33723e1a',
    isLeaf: 0
  },
  {
    id: '5ea2be201d0eaf3d33723e1d',
    menuName: '财务管理',
    menuIsopen: 0,
    menuUrl: 'financManagement',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  },
  {
    id: '5ea2be201d0eaf3d33723e1e',
    menuName: '仲裁收费明细',
    menuIsopen: 0,
    menuUrl: 'arbitrationFee',
    parentId: '5ea2be201d0eaf3d33723e1d',
    isLeaf: 0
  },
  {
    id: '5ea2be211d0eaf3d33723e1f',
    menuName: '酬劳付费明细',
    menuIsopen: 0,
    menuUrl: 'arbitrationReward',
    parentId: '5ea2be201d0eaf3d33723e1d',
    isLeaf: 0
  },
  {
    id: '5ea2be211d0eaf3d33723e20',
    menuName: '发票管理',
    menuIsopen: 0,
    menuUrl: 'invoiceManagement',
    parentId: '5ea2be201d0eaf3d33723e1d',
    isLeaf: 0
  },
  {
    id: '5ea2be211d0eaf3d33723e21',
    menuName: '账号管理',
    menuIsopen: 0,
    menuUrl: 'accountManagement',
    parentId: '5ea2be081d0eaf3d33723de0',
    isLeaf: 0
  }
]

/*
思路：
单层克隆一份 （克隆的 list ，用来固定 object 的位置）
遍历 list，如果在 cloneList 上找 parent ，如果匹配上，把它抓出来，扔到 cloneList 上，如此循环，直到 遍历一次 list 的长度没变，或者 list 长度未 0

参数：
findRootItemFn, function to find first level item, return boolean
rawList, list of all item with property like 'parent' directing to his parent item
key, real name of 'parent' property, 'parent' as default
*/

interface ITreeItem {
  id: number | string
  parentId?: number | string
  [prop: string]: any
}

interface ICheckFn {
  (item: any): boolean
}

interface IKeyDict {
  id?: string
  parentId?: string
  children?: string
}

export function getTreeDataFromItemList(rawList: ITreeItem[], findRootItemFn: ICheckFn, keyDict: IKeyDict = {}) {
  const list: ITreeItem[] = JSON.parse(JSON.stringify(rawList))
  let _length: number | null = null
  const _id = keyDict.id || 'id'
  const _parentId = keyDict.parentId || 'parentId'
  const _children = keyDict.children || 'children'

  const cloneList = [...list]
  let treeData = []

  treeData = list.filter(findRootItemFn)

  treeData.forEach(removeListItem)

  for (; !lengthNoChangeOrNoItem(_length, list);) {
    _length = list.length
    list.forEach((item: ITreeItem) => {
      for (const cloneItem of cloneList) {
        if (cloneItem[_id] === item[_parentId]) {
          if (cloneItem[_children]) {
            cloneItem[_children].push(item)
          } else {
            cloneItem[_children] = [item]
          }
          removeListItem(item)
          break
        }
      }
    })
  }

  function removeListItem(item: any) {
    const index = list.indexOf(item)
    list.splice(index, 1)
  }

  // this fn should be call before length's value change
  function lengthNoChangeOrNoItem(oldLength: number | null, newList: any[]) {
    // list 长度不变或者为 0
    if (newList.length === oldLength || newList.length === 0) {
      return true
    } else {
      return false
    }
  }

  return treeData
}

// 判断是否增加选中

export function getSelectStatus(arr1, arr2) {
  const add = []
  const reduce = []
  const getAdd = arr2.filter(item => {
    if (!item) return false
    if (arr1.includes(item)) {
      return false
    } else {
      return true
    }
  })
  add.push(...new Set(getAdd))
  const getReduce = arr1.filter(item => {
    if (!item) return false
    if (arr2.includes(item)) {
      return false
    } else {
      return true
    }
  })
  reduce.push(...new Set(getReduce))

  return [add, reduce]
}
